#include <stdio.h>
#include <stdlib.h>
#include <windows.h>
#define DIM 20
struct CANCION
{
	char* nombre;
	char* artista;
	char* genero;
};

void AnadirCancion(struct CANCION*, int);
void GuardarCancionesFichero(struct CANCION*,int);
char* BuscarCancion(struct CANCION*,int);
char* BuscarArtista(struct CANCION*,int);
char* BuscarGenero(struct CANCION* ,int);
void OrdenarCanciones(struct CANCION*,int);
void OrdenarArtistas(struct CANCION*, int);
void OrdenarGeneros(struct CANCION*,int);
void ReproducirCancion(struct CANCION*,int);
void ElegirCancion(struct CANCION*,int);
//void menu(void);

int main()
{
	struct CANCION canciones[DIM];
	int contador;
	int opcion;
	
	printf("Cuantas canciones quiere a√±adir?\n");
	scanf("%d", &contador);
	AnadirCancion(&canciones[DIM],contador);
	GuardarCancionesFichero(&canciones[DIM],contador);
	system("cls");

	do
	{
		printf("\tBienvenido al menu\n\n");
		printf("1.- Buscar cancion\n2.- Buscar artista\n3.- Buscar por genero\n4.- Ordenar las canciones alfabeticamente\n5.- Ordenar canciones por artista\n6.- Ordenar canciones por genero\n7.- Elegir cancion para reproducir\n0.- Salir");
		scanf_s("%d", &opcion);
		switch (opcion)
		{
		case 1:
		{
			BuscarCancion(&canciones[DIM], contador);
			break;
		}
		case 2:
		{
			BuscarArtista(&canciones[DIM],contador);
			break;
		}
		case 3:
		{
			BuscarGenero(&canciones[DIM],contador);
			break;
		}
		case 4:
		{
			OrdenarCanciones(&canciones[DIM],contador);
			break;
		}
		case 5:
		{
			OrdenarArtista(&canciones[DIM],contador);
			break;
		}
		case 6:
		{
			OrdenarGenero(&canciones[DIM],contador);
			break;	
		}
		case 7:
		{
			ElegirCancion(&canciones[DIM],contador);
			break;
		}
		case 0:
		{
			printf("Hasta luego,\n\t Cerrando programa...\n");
			break;
		}
		}
	} while (opcion != 0);


	return;
}

void AnadirCancion(struct CANCION* canciones[DIM],int contador)
{
	int i;
	
	for (i = 0; i < contador; i++)
	{
		printf("Introduca los datos de la cancion que desea almcontador]acenar:\n");
		printf("Nombre: ");
		gets(canciones[i]->nombre);
		getchar();
		printf("Artista: ");
		gets(canciones[i].artista);
		getchar();
		printf("Genero: ");
		gets(canciones[i].genero);
		getchar();
	}
	
}

void GuardarCancionesFichero(struct CANCION* canciones[DIM],int contador)
{
	FILE *fichero;
	int i;
	
	fichero=fopen("Playlist.txt","w");
	if (fichero==NULL)
	    printf("No se ha podido abrir el fichero");
	else
	{
		for(i=0;i<contador;i++)
		{
			fprintf(fichero,"%s  %s  %s\n",canciones[i].nombre,canciones[i].artista,canciones[i].genero);
		}
		fclose(fichero);
	}
}

char* BuscarCancion(struct CANCION* canciones[DIM],int contador)
{
	//FILE *fichero;
	char nombre[25];
	char* vector;
	char cancion[25];
	int igual;
	int i;
	
	printf("Introduce el nombre de la cancion que desea buscar:");
	gets(nombre);
	
	//fichero=fopen("Playlist.txt","rt");
	//fscanf(fichero,"&s",cancion);
	do
	{
		for(i=0;i<contador;i++)
		{
			if (nombre==canciones[i].nombre)
			{
				igual=1;
				vector[0]=canciones[i].nombre;
				vector[1]=canciones[i].artista;
				vector[2]=canciones[i].genero;
			}
		}
		if(igual ==0)
		{
			printf("No se ha encontrado su busqueda \n");
			exit(1);
		}
	}while(igual!=1);
	
	return vector;
}

char* BuscarArtista(struct CANCION* canciones[DIM],int contador)
{
	//FILE *fichero;
	char nombre[25];
	char* vector;
	char artista[25];
	int igual;
	int c=0;
	int i;
	
	printf("Introduce el nombre del artista que desea buscar:");
	gets(nombre);
	
	//fichero=fopen("Playlist.txt","rt");
	//fscanf(fichero,"&s",cancion);
	do
	{
		for(i=0;i<contador;i++)
		{
			if (nombre==canciones[i].nombre)
			{
				igual=1;
				vector[c]=canciones[i].nombre;
				vector[c+1]=canciones[i].artista;
				vector[c+2]=canciones[i].genero;
				c=c+3;
			}
		}
		if(igual ==0)
		{
			printf("No se ha encontrado su busqueda \n");
			exit(1);
		}
	}while(igual!=1);
	
	return vector;
}
char* BuscarGenero(struct CANCION* canciones[DIM],int contador)
{
	//FILE *fichero;
	char nombre[25];
	char* vector;
	char genero[25];
	int igual;
	int c=0;
	int i;
	
	printf("Introduce el nombre del genero que desea buscar:");
	gets(nombre);
	
	//fichero=fopen("Playlist.txt","rt");
	//fscanf(fichero,"&s",cancion);
	do
	{
		for(i=0;i<contador;i++)
		{
			if (nombre==canciones[i].genero)
			{
				igual=1;
				vector[c]=canciones[i].nombre;
				vector[c+1]=canciones[i].artista;
				vector[c+2]=canciones[i].genero;
				c=c+3;
			}
		}
		if(igual ==0)
		{
			printf("No se ha encontrado su busqueda \n");
			exit(1);
		}
	}while(igual!=1);
	
	return vector;
}
void OrdenarCanciones(struct CANCION* canciones[DIM],int contador)
{
	//30-40 lineas
}
void OrdenarArtistas(struct CANCION* canciones[DIM], int contador)
{
	//30-40 lineas
}
void OrdenarGeneros(struct CANCION* canciones[DIM],int contador)
{
	//30-40 lineas
}

void ReproducirCancion(struct CANCION* canciones[DIM],int contador)
{
	//mas de 50 lineas
}
void ElegirCancion(struct CANCION* canciones[DIM],int contador) 
{
	//40-50 lineas
}
